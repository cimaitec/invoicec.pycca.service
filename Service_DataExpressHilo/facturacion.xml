<?xml version="1.0" encoding="UTF-8"?>
<configuration>
	<xml fileName="facturacion.xml"/>
	<facElectronica>
		<author>Johnny Xavier Zurita Medranda</author>
		<config>
			<encrypted>resources/dispatcher_e.dat</encrypted>
			<key>resources/dispatcher_k.dat</key>
		</config>
		<database>
			<driver>org.postgresql.Driver</driver>
			<!--<driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver>-->
						
			<facturacion>				
				<url>jdbc:postgresql://localhost:5432/fac_electronica</url>
				<!--<url>jdbc:sqlserver://localhost:1433;databaseName=InvoiceDMiro</url>-->			    
				<user>postgres</user>
				<!--<user>sa</user>-->
				<password>postgres</password>
				<!--<password>123</password>-->
			</facturacion>
		</database>
		<general>
			<time-wait>2000</time-wait>
			<EMISION>
				<error-wsdls>					
					<DESCRIPCION>Manejo de Contingencia Inicial Volver a enviar desde la primera si consultar</DESCRIPCION>
					<ESTADO>ERROR-RESPUESTA</ESTADO>
					<error-wsdl>Server returned HTTP response code</error-wsdl>
					<ESTADO>ERROR-RESPUESTA</ESTADO>
					<error-wsdl>Failed to Access</error-wsdl>
					<ESTADO>ERROR-RESPUESTA</ESTADO>
					<error-wsdl>could not execute statement</error-wsdl>
				</error-wsdls>
				<warning-wsdls>					
					<DESCRIPCION>Manejo de Contingencia con verificacion de Autorizacion</DESCRIPCION>
					<ESTADO>SIN-RESPUESTA</ESTADO>
					<warning-wsdl>timeout</warning-wsdl>
				</warning-wsdls>
			</EMISION>
			<AUTORIZACION>
				<error-wsdls>
					<ESTADO>ERROR-RESPUESTA</ESTADO>
					<DESCRIPCION>Manejo de Contingencia Inicial Volver a enviar desde la primera si consultar</DESCRIPCION>
					<error-wsdl>Server returned HTTP response code</error-wsdl>
					<error-wsdl>Failed to Access</error-wsdl>
					<error-wsdl>could not execute statement</error-wsdl>	
					<time_dia_reintento>2</time_dia_reintento>			
				</error-wsdls>
				<warning-wsdls>
					<ESTADO>SIN-RESPUESTA</ESTADO>
					<DESCRIPCION>Manejo de Contingencia con verificacion de Autorizacion</DESCRIPCION>
					<warning-wsdl></warning-wsdl>
				</warning-wsdls>
			</AUTORIZACION>
		</general>		
		 <tiposDocumento>
		 	<doc01>factura</doc01>
		 	<doc04>notaCredito</doc04>
		 	<doc05>notaDebito</doc05>
		 	<doc06>guiaRemision</doc06>
		 	<doc07>comprobanteRetencion</doc07>
		 </tiposDocumento>
		 <infoDocumento>
		 	<doc01>Factura</doc01>
		 	<doc04>NotaCredito</doc04>
		 	<doc05>NotaDebito</doc05>
		 	<doc06>GuiaRemision</doc06>
		 	<doc07>CompRetencion</doc07>
		 </infoDocumento>
		 <format-file>
		    <line1>
		    	<alias>VE</alias>
		    </line1>
		 </format-file>
		 <formatos>
    	 	<documentos>    	 	    
		        <fields>
		        	<VE>	        
				        <tipoComprobante>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </tipoComprobante>
				        <idComprobante>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </idComprobante>
				        <version>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </version>
				    </VE>
				    <IT>
				    	<ambiente>
						    <type>String</type>
						    <format></format>
						    <length>1</length>
						    <obligatory>S</obligatory>
				        </ambiente>
				        <tipoEmision>
						    <type>Int</type>
						    <format></format>
						    <length>1</length>
						    <obligatory>S</obligatory>
				        </tipoEmision>
				        <razonSocial>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </razonSocial>
				        <nombreComercial>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>N</obligatory>
				        </nombreComercial>
				        <ruc>
						    <type>String</type>
						    <format></format>
						    <length>13</length>
						    <obligatory>S</obligatory>
				        </ruc>
				        <claveAcceso>
						    <type>String</type>
						    <format></format>
						    <length>48</length>
						    <obligatory>N</obligatory>
				        </claveAcceso>
				        <codDoc>
						    <type>String</type>
						    <format></format>
						    <length>2</length>
						    <obligatory>S</obligatory>
				        </codDoc>
				        <estab>
						    <type>String</type>
						    <format></format>
						    <length>3</length>
						    <obligatory>N</obligatory>
				        </estab>
				        <ptoEmi>
						    <type>String</type>
						    <format></format>
						    <length>3</length>
						    <obligatory>S</obligatory>
				        </ptoEmi>
				        <secuencial>
						    <type>String</type>
						    <format></format>
						    <length>9</length>
						    <obligatory>N</obligatory>
				        </secuencial>
				        <dirMatriz>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </dirMatriz>
				        <email>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>N</obligatory>
				        </email>
				    </IT>
				    <IC>
				    	<fechaEmision>
						    <type>Date</type>
						    <format>dd/mm/yyyy</format>
						    <length></length>
						    <obligatory>S</obligatory>
				        </fechaEmision>
				        <dirEstablecimiento>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </dirEstablecimiento>
				        <contribuyenteEspecial>
						    <type>Int</type>
						    <format></format>
						    <length>3:5</length>
						    <obligatory>S</obligatory>
				        </contribuyenteEspecial>
				        <obligadoContabilidad>
						    <type>String</type>
						    <format>SI/NO</format>
						    <length>2</length>
						    <obligatory>S</obligatory>
				        </obligadoContabilidad>
				        <tipoIdentificacionComprador>
						    <type>Int</type>
						    <format></format>
						    <length>2</length>
						    <obligatory>S</obligatory>
				        </tipoIdentificacionComprador>
				        <guiaRemision>
						    <type>Int</type>
						    <format></format>
						    <length>2</length>
						    <obligatory>S</obligatory>
				        </guiaRemision>
				        <razonSocialComprador>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </razonSocialComprador>
				        <identificacionComprador>
						    <type>String</type>
						    <format></format>
						    <length>13</length>
						    <obligatory>S</obligatory>
				        </identificacionComprador>
				        <moneda>
						    <type>String</type>
						    <format></format>
						    <length>15</length>
						    <obligatory>S</obligatory>
				        </moneda>
				        <rise>
						    <type>String</type>
						    <format></format>
						    <length>40</length>
						    <obligatory>S</obligatory>
				        </rise>
				        <codDocModificado>
						    <type>Int</type>
						    <format></format>
						    <length>2</length>
						    <obligatory>S</obligatory>
				        </codDocModificado>
				        <numDocModificado>
						    <type>Int</type>
						    <format></format>
						    <length>15</length>
						    <obligatory>S</obligatory>
				        </numDocModificado>
				        <fechaEmisionDocSustentoNota>
						    <type>Date</type>
						    <format>dd/mm/yyyy</format>
						    <length>10</length>
						    <obligatory>S</obligatory>
				        </fechaEmisionDocSustentoNota>
				        <valorModificacion>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </valorModificacion>
				        <motivo>
						    <type>String</type>
						    <format></format>
						    <length>1:300</length>
						    <obligatory>S</obligatory>
				        </motivo>
				        <periodoFiscal>
						    <type>Date</type>
						    <format>mm/yyyy</format>
						    <length>7</length>
						    <obligatory>S</obligatory>
				        </periodoFiscal>
				        <dirPartida>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </dirPartida>
				        <razonSocialTransportista>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </razonSocialTransportista>
				        <tipoIdentificacionTransportista>
						    <type>Int</type>
						    <format></format>
						    <length>2</length>
						    <obligatory>S</obligatory>
				        </tipoIdentificacionTransportista>
				        <rucTransportista>
						    <type>String</type>
						    <format></format>
						    <length>13</length>
						    <obligatory>S</obligatory>
				        </rucTransportista>
				        <aux1>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </aux1>
				        <aux2>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </aux2>
				        <fechaIniTransporte>
						    <type>Date</type>
						    <format>dd/mm/yyyy</format>
						    <length>10</length>
						    <obligatory>S</obligatory>
				        </fechaIniTransporte>
				        <fechaFinTransporte>
						    <type>Date</type>
						    <format>dd/mm/yyyy</format>
						    <length>10</length>
						    <obligatory>S</obligatory>
				        </fechaFinTransporte>
				        <placa>
						    <type>String</type>
						    <format></format>
						    <length>20</length>
						    <obligatory>S</obligatory>
				        </placa>
				    </IC>
				    <T>
				    	<subtotal12>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </subtotal12>
				        <subtotal0>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </subtotal0>
				        <subtotalNoSujeto>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </subtotalNoSujeto>
				        <totalSinImpuesto>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </totalSinImpuesto>
				        <totalDescuento>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </totalDescuento>
				        <ICE>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </ICE>
				        <IVA12>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </IVA12>
				        <importeTotal>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </importeTotal>
				        <propina>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </propina>
				        <importeAPagar>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </importeAPagar>
				    </T>
				    <TIR>
				    	<codigo>
						    <type>Int</type>
						    <format></format>
						    <length>1</length>
						    <obligatory>S</obligatory>
				        </codigo>
				        <codigoRetencion>
						    <type>String</type>
						    <format></format>
						    <length>1:14</length>
						    <obligatory>S</obligatory>
				        </codigoRetencion>
				        <baseImponible>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </baseImponible>
				        <porcentajeRetener>
						    <type>Int</type>
						    <format></format>
						    <length>1:3</length>
						    <obligatory>S</obligatory>
				        </porcentajeRetener>
				        <valorRetenido>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </valorRetenido>
				        <codDocSustento>
						    <type>Int</type>
						    <format></format>
						    <length>2</length>
						    <obligatory>S</obligatory>
				        </codDocSustento>
				        <numDocSustento>
						    <type>Int</type>
						    <format></format>
						    <length>15</length>
						    <obligatory>N</obligatory>
				        </numDocSustento>
				        <fechaEmisionDocSustento>
						    <type>Date</type>
						    <format>dd/mm/yyyy</format>
						    <length>10</length>
						    <obligatory>S</obligatory>
				        </fechaEmisionDocSustento>
				    </TIR>
				    <TI>
				    	<codigo>
						    <type>Int</type>
						    <format></format>
						    <length>1</length>
						    <obligatory>S</obligatory>
				        </codigo>
				        <codigoPorcentaje>
						    <type>Int</type>
						    <format></format>
						    <length>1:4</length>
						    <obligatory>S</obligatory>
				        </codigoPorcentaje>
				        <tarifa>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </tarifa>
				        <baseImponible>
						    <type>Int</type>
						    <format></format>
						    <length>1:4</length>
						    <obligatory>S</obligatory>
				        </baseImponible>
				        <valor>
						    <type>Int</type>
						    <format></format>
						    <length>14</length>
						    <obligatory>S</obligatory>
				        </valor>
				        <impuestos>
						    <type>String</type>
						    <format></format>
						    <length>3</length>
						    <obligatory>N</obligatory>
				        </impuestos>
				    </TI>
				    <MO>
				    	<motivoRazon>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </motivoRazon>
				        <motivoValor>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </motivoValor>
				    </MO>
				    <DEST>
				    	<identificacionDestinatario>
						    <type>String</type>
						    <format></format>
						    <length>13</length>
						    <obligatory>S</obligatory>
				        </identificacionDestinatario>
				        <razonSocialDestinatario>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </razonSocialDestinatario>
				        <dirDestinatario>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </dirDestinatario>
				        <motivoTraslado>
						    <type>String</type>
						    <format></format>
						    <length>300</length>
						    <obligatory>S</obligatory>
				        </motivoTraslado>
				    </DEST>
		        </fields>
  		 	</documentos>
  		 	
  		 </formatos>
  		 <format_xml_list_tags>  		   
  		   <infoTributaria>ambiente,tipoEmision,razonSocial,nombreComercial,ruc,claveAcceso,codDoc,estab,ptoEmi,secuencial,dirMatriz</infoTributaria>  		   
  		 </format_xml_list_tags>
  		 <format_xml_field>
  		    <infoTributaria>
				<ambiente><documentos>01,04,05,06,07</documentos></ambiente>
    	 	    <tipoEmision><documentos>01,04,05,06,07</documentos></tipoEmision>
    	 	    <razonSocial><documentos>01,04,05,06,07</documentos></razonSocial>
    	 	    <nombreComercial><documentos>01,04,05,06,07</documentos></nombreComercial>
    	 	    <ruc><documentos>01,04,05,06,07</documentos></ruc>
    	 	    <claveAcceso><documentos>01,04,05,06,07</documentos></claveAcceso>
    	 	    <codDoc><documentos>01,04,05,06,07</documentos></codDoc>
    	 	    <estab><documentos>01,04,05,06,07</documentos></estab>
    	 	    <ptoEmi><documentos>01,04,05,06,07</documentos></ptoEmi>
    	 	    <secuencial><documentos>01,04,05,06,07</documentos></secuencial>
    	 	    <dirMatriz><documentos>01,04,05,06,07</documentos></dirMatriz>
    	 	</infoTributaria>
    	 	<infoDocumento>
    	 		<fechaEmision><documentos>01,04,05,07</documentos></fechaEmision>
    	 		<dirEstablecimiento><documentos>01,04,05,06,07</documentos></dirEstablecimiento>
    	 		<tipoIdentificacionComprador><documentos>01,04,05,06,07</documentos></tipoIdentificacionComprador>
    	 		<razonSocialComprador><documentos>01,04,05,07</documentos></razonSocialComprador>
    	 		<identificacionComprador><documentos>01,04,05,07</documentos></identificacionComprador>
    	 		<contribuyenteEspecial><documentos>01,04,05,06,07</documentos></contribuyenteEspecial>
    	 		<obligadoContabilidad><documentos>01,04,05,06,07</documentos></obligadoContabilidad>
    	 		<rise><documentos>04,05,06</documentos></rise>
    	 		<codDocModificado><documentos>04,05</documentos></codDocModificado>
    	 		<numDocModificado><documentos>04,05</documentos></numDocModificado>
    	 		<numDocModificado><documentos>04,05</documentos></numDocModificado>
    	 		<fechaEmisionDocSustento><documentos>04,05</documentos></fechaEmisionDocSustento>
    	 		<totalSinImpuestos><documentos>01,04,05,06</documentos></totalSinImpuestos>
    	 		<valorModificacion><documentos>04,05</documentos></valorModificacion>
    	 		<razonSocialTransportista><documentos>06</documentos></razonSocialTransportista>
    	 		<valorTotal><documentos>05</documentos></valorTotal>
    	 		<moneda><documentos>04</documentos></moneda>
    	 		<guiaRemision><documentos>01</documentos></guiaRemision>
    	 		<totalDescuento><documentos>01</documentos></totalDescuento>
    	 		<propina><documentos>01</documentos></propina>
    	 		<importeTotal><documentos>01</documentos></importeTotal>
    	 		<rucTransportista><documentos>06</documentos></rucTransportista>
    	 		<tipoIdentificacionTransportista><documentos>06</documentos></tipoIdentificacionTransportista>    	 		
    	 		<dirPartida><documentos>06</documentos></dirPartida>
    	 		<fechaIniTransporte><documentos>06</documentos></fechaIniTransporte>
    	 		<fechaFinTransporte><documentos>06</documentos></fechaFinTransporte>
    	 		<placa><documentos>06</documentos></placa>
    	 		<tipoIdentificacionSujetoRetenido><documentos>07</documentos></tipoIdentificacionSujetoRetenido>
    	 		<razonSocialSujetoRetenido><documentos>07</documentos></razonSocialSujetoRetenido>
    	 		<identificacionSujetoRetenido><documentos>07</documentos></identificacionSujetoRetenido>
    	 		<periodoFiscal><documentos>07</documentos></periodoFiscal>
    	 		<motivo><documentos>04</documentos></motivo>
    	 		<!--  <motivo><documentos>07</documentos></motivo>-->
    	 		<tarifa><documentos>01</documentos></tarifa>
    	 		<totalConImpuestos><documentos>01,04</documentos></totalConImpuestos>    	 		
    	 	</infoDocumento>
    	 	<totalConImpuestos>    	 	
    	 		<moneda><documentos>01</documentos></moneda>
    	 	</totalConImpuestos>    	 	    	 	
    	 </format_xml_field>    	     	 
    	<pdf>
    	  <jasper>
    	    <doc01>factura.jasper</doc01>
    	    <doc04>notaCreditoFinal.jasper</doc04>
    	    <doc05>notaDebitoFinal.jasper</doc05>
    	    <doc06>guiaRemisionFinal.jasper</doc06>
    	    <doc07>comprobanteRetencion.jasper</doc07>
    	    <doc0923048904001_01>facturaSeguros.jasper</doc0923048904001_01>
    	  </jasper>
    	</pdf>
		<alarm>
			<sms>
				<enable>N</enable>
				<ip></ip>
				<port></port>
				<sender></sender>
				<receivers-list></receivers-list>
			</sms>
			<email>
			    <ambiente>PRUEBAS</ambiente>
				<enable>Y</enable>
				<!-- <host>192.168.32.172</host> direccion del servidor de correo de cima para prueba... -->
				<!-- <host>mail.cimait.com.ec</host>-->
				<host>mail.d-miro.com</host>
				<sender>facturacion_prueba@d-miro.com</sender>
				<user>facturacion_prueba</user>
				<password>Temporal69</password>	
				<tipo_autentificacion>SSL</tipo_autentificacion>
				<tipoMail>TEXT</tipoMail>
				<!--<receivers-list>jzurita@cimait.com.ec;jcaceres@d-miro.com;gburgos@d-miro.com;imoncayo@cimait.com.ec;facturacion_prueba@d-miro.com;rpajuelo@d-miro.com;svergara@d-miro.com;dvasquez@d-miro.com;rvera@d-miro.com</receivers-list>-->
				<receivers-list>hfuentes@cimait.com.ec;imoncayo@cimait.com.ec</receivers-list>
				<subject>Proyecto Facturacion Electronica DMIRO</subject>
				<message>Estimado(a):\nHubo inconvenientes con documento electrónico de tipo |TIPODOC| generado el |FECHA| con No. |NODOCUMENTO|.\n |Mensaje|\n Cualquier novedad comunicarse con |HELPDESK|</message>				
				<message_error>Estimado(a):&lt;br&gt;/n\n|CabError| documento electrónico generado el |FECHA| con No. |NODOCUMENTO|.\n |Mensaje|\n Cualquier novedad comunicarse con |HELPDESK|</message_error>
				<message_exito>Estimado(a):&lt;br&gt;/n\n|CabMensaje| documento electrónico generado el |FECHA| con No. |NODOCUMENTO|.\n |Mensaje|\n Cualquier novedad comunicarse con |HELPDESK|</message_exito>
				<helpdesk>helpdesk@cimait.com.ec</helpdesk>
				<final-message>Pruebas</final-message>
				<time-mail>10</time-mail>
			</email>
			<sleep-min>5</sleep-min>
		</alarm>
		<log>
		    <control>log4j.xml</control>
		</log>
		<ctrl-on-off>
			<file>facturacion.ctr</file>
		</ctrl-on-off>
	</facElectronica>
</configuration>
